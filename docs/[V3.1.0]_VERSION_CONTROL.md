# 版本控制文档

## 当前版本：3.1.0

### 版本更新历史

#### v3.1.0 (2025-08-13)
**录音安全与文档优化版本**

##### 新增功能
- ✅ **10分钟录音限制**
  - 防止误触导致超长录音消耗API配额
  - 超过10分钟自动中止录音并丢弃音频数据
  - 保护用户API成本安全

- ✅ **状态指示器延迟删除**
  - 添加0.2秒延迟让删除操作更自然
  - 改善用户体验

- ✅ **音频格式转换支持**
  - 测试脚本支持m4a到wav转换
  - 使用FFmpeg进行格式转换
  - 兼容更多音频格式

##### 文档改进
- ✅ **双语文档系统**
  - 英文为默认文档语言
  - 中文文档移至docs/README_zh-CN.md
  - 添加语言切换链接

- ✅ **术语标准化**
  - 统一使用GPT-4o代替GPT-4
  - 保持文档一致性

##### 项目重命名
- ✅ **项目更名为Whisper-Input-Next**
  - 更新所有文档和脚本中的项目名称
  - 保持品牌一致性

#### v3.0.0 (2025-07-27)
**基于原始main分支的功能整合版本**

##### 核心功能整合
- ✅ **OpenAI GPT-4o transcribe 集成**
  - 180秒超时支持长音频
  - 自带高质量标点符号
  - 智能重试循环机制
  
- ✅ **双处理器架构**
  - Ctrl+F: OpenAI GPT-4o transcribe (高质量)
  - Ctrl+I: 本地 whisper.cpp (省钱快速)
  
- ✅ **音频存档系统**
  - 自动保存所有录音到 `audio_archive/`
  - 转录结果缓存 `cache.json` 
  - 支持历史音频重新处理

- ✅ **智能重试机制**
  - 失败时显示 "!" 状态
  - 保存音频支持多次重试
  - 直到成功才结束循环

##### 系统验证
- ✅ **Cache.json 功能验证**
  - 验证音频存档系统正常运行
  - 确认转录缓存机制有效
  - 验证53个音频文件正常存档
  
- ✅ **版本管理系统建立**
  - 实现文档版本标记规范
  - 建立feature版本追踪体系
  - 移除虚假开发计划内容

##### 文档优化
- 🔧 废弃功能标记 (KIMI_USAGE.md → [DEPRECATED])
- 🔧 版本控制文档规范化
- 🔧 README开发状态清理
- 🔧 所有功能文档版本标记统一

---

## 版本规范

### 版本号格式
采用语义化版本控制 (Semantic Versioning): `MAJOR.MINOR.PATCH`

- **MAJOR**: 不兼容的API修改
- **MINOR**: 向下兼容的功能性新增
- **PATCH**: 向下兼容的问题修正

### 版本发布流程
1. 功能开发完成后更新版本号
2. 更新此版本控制文档
3. 更新 `main.py` 中的 `__version__`
4. 创建对应的 Git 标签
5. 更新 README 功能状态

### 下一个版本计划

*当前无计划版本 - 根据需求动态更新*

---

## 开发者注意事项

- 每次功能性commit都应该bump版本号
- 重大更新需要更新版本控制文档
- 保持向下兼容性
- 测试验证后再发布版本